<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>BriceShatzer.com | Development</title>
    <link href='http://fonts.googleapis.com/css?family=Droid+Sans:400,700|Lato' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.3/jquery.mobile.css">        
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <script src="/utilities/lodash.min.js"></script>
    <script src="/utilities/jquery.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.3/jquery.mobile.min.js"></script>
</head>
<body>
    <div data-role="header">
        <div id="navigation">
            <a href="/development.html">Development</a> | <a href="/creative.html">Creative</a> | <a href="/tools.html">Tools</a> | <a href="#about">Me</a>
        </div>
        <div class="quickInfo_open-arrow"><span>Info</span></div>
    </div> 
    <div id="quickInfo" data-role="panel" data-position="left" data-display="push" data-dismissible="false" data-position-fixed="true">
        <div class="ui-body" style="padding-left:.08em;padding-top:0" itemscope itemtype ="http://schema.org/person">
            <ul data-role="listview">
                <li style="margin-top:0;margin-bottom:1em;"><h1 style="text-align:center;font-size:2em;font-family:'Droid Sans',sans-serif;font-weight:bold;" itemprop="name">Brice Shatzer</h1></li>
                <li style="line-height:1.8em"><a href="#" target="_blank"><span class="fa fa-fw fa-file-pdf-o" style="font-size:1.8em;margin:0 0.4em"></span><span style="vertical-align:top;">View Resume<span></a></li>
                <li style="line-height:1.8em;"><span class="fa fa-fw fa-envelope" style="font-size:1.8em;margin:0 0.4em"></span> <span style="vertical-align:top;font-size:0.8em;" itemprop="email">Brice.Shatzer@gmail.com</span></li>
                <li style="line-height:2em;"><span class="fa fa-fw fa-mobile" style="font-size:2.6em;margin:0 0 0 0.1em"></span><a href="tel:+13192392470" style="vertical-align:top;margin:0 0.2em" itemprop="telephone">319-239-2470</a></span></li>
            <!--
                <li style="overflow:hidden;">
                    <span class="fa fa-graduation-cap" style="font-size:2.8em;"></span>
                    <div style="float:right;width:9em;text-align:center;">
                        Carthage College<br>
                        <span style="font-size:0.8em">B.A. Communication / Digital Media</span>
                    </div>
                </li>
            -->
                <li style="text-align:center;padding-top:5px;" id="icons">
                    <a href="http://www.linkedin.com/pub/brice-shatzer/16/690/b26/" target="_blank"><span class="fa fa-linkedin" /></a>
                    <a href="https://twitter.com/_shatzer" target="_blank"><span class="fa fa-twitter" /></a>
                    <a href="https://github.com/briceshatzer" target="_blank"><span class="fa fa-github" /></a>
                </li>
            </ul>

            <br>

        </div>
        <div class="quickInfo_close-arrow" style=""><span>Close</span></div>
    </div> 


<section data-role="page">
    <div role="main" class="ui-content" id="developmentContent" ></div><!-- /content -->

<script type="text/javascript">
var $container = $('#developmentContent');
//$('<div data-role="collapsibleset" data-theme="a" data-content-theme="a"></div>');

//85% sure this function is never used anywhere anymore ====
function buildDevContent(){ 
    $.each(filtered_portfolio, function(){
       
        //console.log($category);
        var $items = $('<div class="ui-grid-a ui-responsive"></div>')

        $.each(this.childItems, function(i,tool) {
            var string='';
            if ( i%2!==1 ){ string+='<div class="ui-block-a">' }
            else{ string+='<div class="ui-block-b">' }
            string+='<div class="ui-bar"><span class="strong">'+tool.name+'</span>';
            if (this.notes){string+=' - '+this.notes}
            string+='</div></div>';
            $items.append(string)
                //'<div class="ui-block-a"><div class="ui-bar"><span class="strong">'++'</span> - this is some descriptive text</div></div>' 
        });
        
        var $category =  $('<div data-role="collapsible"></div>');
        $category.append($items).prepend('<h3>'+this.name+'</h3>').appendTo('#toolList');
        
        //console.log($category);
        //.appendTo('<div data-role="collapsible"><h3>'+this.name+'</h3></div>').appendTo('#toolList');
    });
    //$container.appendTo('#toolList')
}  
//95% sure this function is never used anywhere anymore ====

var tech_list=[];
var portfolioPrincipal_json;
var portfolioMaintained_json;
function createTechList(){
    _.forEach(tech_json, function(obj) { 
        if(obj.childItems){
            _.forEach(obj.childItems, function(child) { tech_list.push(child) });
        }else{ tech_list.push(obj) } 
    });
}



$( "body" ).on( "pagecontainerchange", function( event, ui ) {console.log("pagecontainerchange event from development.html");
    var techLoad = new $.Deferred();
    var url = $.mobile.path.getLocation();
    var query; 
    if(/\?/.test(url)){ query = decodeURIComponent(url.slice( url.indexOf('?')+1 )  );
    }else{ query = false }


    if(!tech_json){
        $.getJSON('/tech.json', function(data) {
            tech_json = data;
            console.log('tech_json loaded via development.html' );
            techLoad.resolve();
        });
    }else{ techLoad.resolve() }


if( /development.html/.test($.mobile.path.getLocation()) ){
    if(!query){
        console.log('no query');
        var $workspace = $('section[data-url="/development.html"]').find('#developmentContent');
        if( !$workspace.html() ){ 
            $.when(techLoad).done(function(){ 
                console.log('tech_json loaded deferred caught');
                function generateDisplayValues(object) { object.url = encodeURIComponent(object.name) }
                //--
                    // in addition to the array, the "topic" of the nav menu should also be passed into to the function. This will assist in building the links.        
                    //var $panelList = $('<ul data-role="listview"></ul>');
                var tech_blocks = [];// = $('<div></div>');

                $.each(tech_json, function(i) {
                    
                    var $tech_class = $('<div class="ui-body"></div>');

                    if(this.childItems){
                        $tech_class.append('<h2>'+this.name+'</h2>')
                        var $listOfChildItems = $('<ul></ul>');
                        $.each(this.childItems, function() {
                            var childObject = this;
                            generateDisplayValues(childObject);
                            $('<li></li>')
                                .append( '<h3><a href="/development.html?'+childObject.url+'">'+childObject.name+'</a></h3>' )
                                .appendTo( $listOfChildItems );
                            });
                        $tech_class.append( $listOfChildItems );
                    } else {
                        generateDisplayValues(this);
                        $tech_class.append( '<h2><a href="/development.html?'+this.url+'">'+this.name+'</a></h2>' );
                    }
                     tech_blocks.push( $tech_class );

                });
                $tech = $('<div class="ui-grid-a ui-responsive"></div>')
                
                $.each(tech_blocks, function(i) { 
                    var className = i%2==0 ? "ui-block-a" : "ui-block-b" ;
                    $('<div class='+className+'></div>').append(this).appendTo($tech);
                });
               
                $tech.appendTo('#developmentContent');
            });
        }
    }else{//
        //--check for & load required data 
        var portfolioPrincipal_Load = new $.Deferred();
        var portfolioMaintained_Load = new $.Deferred();

        if(!portfolioPrincipal_json){ 
            $.getJSON('/portfolio_principal.json', function(data) { 
                portfolioPrincipal_json = data;
              console.log('portfolioPrincipal_json loaded via development.html' );            
                portfolioPrincipal_Load.resolve();
            }) 
        }else{ portfolioPrincipal_Load.resolve(); }
        //.then( function(){console.log('placeholder for maintainer data load')}, function(){console.log('Woah bro....something screwed up when loading /portfolio_principal.json')})

        if(!portfolioMaintained_json){
            $.getJSON('/portfolio_maintained.json', function(data) { 
                portfolioMaintained_json = data;
              console.log('portfolioMaintained_json loaded via development.html' );            
                portfolioMaintained_Load.resolve();
            }) 
        }else{ portfolioMaintained_Load.resolve(); }        
        
        if(!tech_json){
            $.getJSON('/tech.json', function(data) {
                tech_json = data;
                console.log('tech_json loaded via development.html' );
                techLoad.resolve();
            });
        }else{ techLoad.resolve() }


        $.when.apply($, [techLoad,portfolioPrincipal_Load,portfolioMaintained_Load] ).done(function(){ console.log('all JSON files loaded');
            //------------------------------------
            //after loads are done, pluck what's needed and build the page    

            //--create var tech_list
            _.forEach(tech_json, function(obj) { 
                if(obj.childItems){
                    _.forEach(obj.childItems, function(child) { tech_list.push(child) });
                }else{ tech_list.push(obj) } 
            }); 

            var relevantTech = _.find(tech_list, function(tech){ return tech.name.toLowerCase() == query.toLowerCase()  });
            console.dir(relevantTech);

            var portfolioExamples = _.filter(portfolioPrincipal_json, function(obj) { 
                var match;
                    $.each(obj.tech, function(){
                        if( this.toLowerCase() == query.toLowerCase() ){ match=true; } 
                    }) 
                return match === true;
            });
            
            var maintenanceExamples = _.filter(portfolioMaintained_json, function(obj) { 
                var match;
                    $.each(obj.tech, function(){
                        if( this.toLowerCase() == query.toLowerCase() ){ match=true; } 
                    }) 
                return match === true;
            });            

            var $workspace = $('section[data-url="'+url.slice( url.lastIndexOf('/'))+'"]').find('#developmentContent');
            if( !$workspace.html() ){ 
                //build top
                $workspace_top = $('<div class="devTopic_top">');
                $workspace_top.append('<h1>'+relevantTech.name+'</h1>'); 
                if(relevantTech.notes){$workspace_top.append('<p class="notes">'+relevantTech.notes+'</p>'); }
                $workspace.append($workspace_top);
                
                //build bottom
                if(portfolioExamples.length || maintenanceExamples.length){
                    var $allPriorWork = $('<div class="ui-grid-a ui-responsive"><h2>Prior Work Utilizing This Technology:</h2></div>');

                    if(portfolioExamples.length){
                        var $principalWork = $('<div class="ui-body ui-body-a ui-corner-all"><h3>Principally Involved in Creation</h3><ul></ul></div>');              

                        $.each(portfolioExamples, function(i, obj) {
                            $('<li><a href="/work.html?'+obj.name+'">'+obj.name+'</li>').appendTo( $principalWork.children('ul') );
                        });
                    
                        $('<div class="'+ ( (maintenanceExamples.length)?"ui-block-a":"" ) +'"></div>')
                            .append( $principalWork )
                            .appendTo($allPriorWork);
                    }
                    
                    if(maintenanceExamples.length){
                        var $maintenance = $('<div class="ui-body ui-body-a ui-corner-all"><h3>Projects I Helped to Maintain</h3><ul></ul></div>');
                        $.each(maintenanceExamples, function(i, obj) {
                            $('<li><a href="'+obj.link+'">'+obj.name+'</li>').appendTo( $maintenance.children('ul') );
                        });

                        $('<div class="'+ ( (portfolioExamples.length)?"ui-block-b":"" ) +'"></div>')                        
                            .append($maintenance)
                            .appendTo($allPriorWork);                                                  
                    }
                $allPriorWork.appendTo($workspace);
                }
            }
            //after loads are done, pluck what's needed and build the page           
            //------------------------------------
        })
    }//added
}//original
//----


});    
</script>
</section><!-- /page -->




</body>
<script type="text/javascript" src="/navigation.js"></script>
</html>


<!DOCTYPE html> 
<html>
<head>
	<title>Page Title</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.1/jquery.mobile-1.4.1.min.css" />
	<link rel="stylesheet" href="/tools/font-awesome/css/font-awesome.min.css" />
	<script src="/tools/underscore.min.js"></script>
	<script src="/tools/jquery.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.4.1/jquery.mobile-1.4.1.min.js"></script>


<script>
function test(fact){
	if ( !fact ){ console.log(fact+' is false') }
	else if ( fact ){ console.log(fact+' is true') }
}
</script>

<style>
.ui-header{border:none;}
.ui-header .ui-btn{font-size: 16px;}
.ui-header .ui-btn .fa {font-size: 1.2em;float:right;}
.ui-header .skillIndicator{float:right;}
.ui-listview>.ui-li-static {padding-top: 0; padding-bottom: 0}
.ui-listview>li h1 { margin-top: 0; margin-bottom: 0}
.ui-listview>li div.ui-collapsible-content {
	border:none; 
}
.ui-listview>li .ui-collapsible-heading *{ border: none; width: 100%;}
.ui-listview>li .ui-collapsible-heading *:hover{background-color: #333;}
.ui-listview>li div.ui-collapsible-content a{ border-top: none; padding-left: 25px}
</style>
</head>
<body>

<div data-role="header">
	<div id="nav"  data-role="panel" data-position="left" data-display="push" data-dismissible="false" data-position-fixed="true">
		<ul data-role="listview">
			<li><a href="#bar">Things  <i class="fa fa-star"></i></a></li>
			<li>
					<div data-role="collapsible" data-inset="false">
					<h1>Frameworks</h1>
						<ul data-role="listview" data-inset="false">
							<li><a href="#"><h1>Item 1</h1></a></li>
							<li><a href="#"><h1>Item 2</h1></a></li>
						</ul>
					</div>
			</li>
			<li><a href="#"><h1>HTML 5</h1></a></li>
			<li><a href="#"><h1>Other Item</h1></a></li>
		</ul>
	</div>
</div>

</div><!-- /header -->


<!-- Start of first page -->
<section data-role="page" id="foo" class="ui-responsive-panel" data-theme="b">
	<div role="main" class="ui-content">
		<ul data-role="listview">
			<li><a href="#bar">Things</a></li>
			<li>
					<div data-role="collapsible" data-inset="false">
					<h1>Frameworks</h1>
						<ul data-role="listview" data-inset="false">
							<li><a href="#"><h1>Item 1</h1></a></li>
							<li><a href="#"><h1>Item 2</h1></a></li>
						</ul>
					</div>
			</li>
			<li><a href="#"><h1>HTML 5</h1></a></li>
			<li><a href="#"><h1>Other Item</h1></a></li>
		</ul>
	</div><!-- /content -->

	<div data-role="footer">
		<h4>Page Footer</h4>
	</div><!-- /footer -->
</section><!-- /page -->




<!-- Start of second page -->
<section data-role="page" id="bar">

	<div role="main" class="ui-content">
		<h1 style="float:left;"><a href="#nav">+Foo</a></h1>
		<p>I'm the second in the source order so I'm hidden when the page loads. I'm just shown if a link that references my id is beeing clicked.<i class="fa fa-bullhorn" style="font-size:24px;color:blue"></i> </p>
		<p><a href="#foo">Back to foo</a></p>
	</div><!-- /content -->

	<div data-role="footer">
		<h4>Page Footer</h4>
	</div><!-- /footer -->
</section><!-- /page -->

<script>

$(function(){
	$( "[data-role='header']" ).toolbar({ theme: "b" });
});

var skills;

	$.getJSON('/skills.json', function(data) { 
//----- start .getJSON call back 
	skills = data;





	function buildChildItems(array){
		$.each(array, function() {generateDisplayValues(this)} )
	}
//this probably becomes a view builder. What benifit is there to generate & attach the display varibles vs generating the display varibles and building the item? 
	function generateDisplayValues(object) {
		//var name = object.name;
			
		if(this.childItems){
			menuItem = $('<div data-role="collapsible" data-inset="false"></div>')
				.append( $('<h1>'+object.name+'</h1>') );
				$.each(object.childItems, function() {
					 /* iterate through array or object */
				});



		}
			object.url = encodeURIComponent(object.name);
			var skillIndicator;
			switch (object.rank){
				case 3: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i>'; break;
				case 2.5: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star-half-o"></i>'; break;
				case 2: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star-o"></i>'; break;
				case 1.5: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star-half-o"></i><i class="fa fa-star-o"></li>'; break;
				case 1: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star-o"></i><i class="fa fa-star-o"></i>'; break;
				case 0.5: skillIndicator = '<i class="fa fa-star-half-o"></i><i class="fa fa-star-o"></i><i class="fa fa-star-o"></i>'; break;
				default: skillIndicator = '<i class="fa fa-star-o"></i><i class="fa fa-star-o"></i><i class="fa fa-star-o"></i>';
			}
			object.skillIndicator = skillIndicator;


			menuItem = $('div')	}	
	else { 	menuItem = $('<a href="#'+url+'"></a>').append( $('<div class="skillIndicator">'+skillIndicator+'</div>') )	}





	}


		$.each(skills, function() {
		//------ start handle each item within the returned object
			generateDisplayValues(this);
			
/* deciding to what whether to build a folder item or a an build folder item or a display link/node 
	
*/
		//------ end handle each item within the returned object
		});
	
//----- end .getJSON call back 
	});




/*
<i class="fa fa-star-o"></i>
<i class="fa fa-star-half-o"></i>
<i class="fa fa-star"></i></li>
*/

/*


function setSkillIndicator(rank) {
if(rank = 3){ skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i>'}
else if (rank = 2.5){ skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star-half-o"></i>'}
else if (rank = 2){ skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star-o"></i>'}
else if (rank = 1.5){ skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star-half-o"></i><i class="fa fa-star-o"></li>'}
else if (rank = 1){ skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star-o"></i><i class="fa fa-star-o"></i>'}
else if (rank = 0.5){ skillIndicator = '<i class="fa fa-star-half-o"></i><i class="fa fa-star-o"></i><i class="fa fa-star-o"></i>'}
else { skillIndicator = '<i class="fa fa-star-o"></i><i class="fa fa-star-o"></i><i class="fa fa-star-o"></i>'}
}

switch (this.rank){
	case 3: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i>'; break;
	case 2.5: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star-half-o"></i>'; break;
	case 2: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star-o"></i>'; break;
	case 1.5: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star-half-o"></i><i class="fa fa-star-o"></li>'; break;
	case 1: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star-o"></i><i class="fa fa-star-o"></i>'; break;
	case 0.5: skillIndicator = '<i class="fa fa-star-half-o"></i><i class="fa fa-star-o"></i><i class="fa fa-star-o"></i>'; break;
	default: skillIndicator = '<i class="fa fa-star-o"></i><i class="fa fa-star-o"></i><i class="fa fa-star-o"></i>';
}
*/



// _.template('<li><a href="#"><h1><%= name %></h1</a></li>')



/* -- sets display attributes. moved into .getJSON callback
$.each(skills, function() {
	var name = this.name;
	var url = encodeURIComponent(name);
	var skillIndicator;
	switch (this.rank){
		case 3: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i>'; break;
		case 2.5: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star-half-o"></i>'; break;
		case 2: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star-o"></i>'; break;
		case 1.5: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star-half-o"></i><i class="fa fa-star-o"></li>'; break;
		case 1: skillIndicator = '<i class="fa fa-star"></i><i class="fa fa-star-o"></i><i class="fa fa-star-o"></i>'; break;
		case 0.5: skillIndicator = '<i class="fa fa-star-half-o"></i><i class="fa fa-star-o"></i><i class="fa fa-star-o"></i>'; break;
		default: skillIndicator = '<i class="fa fa-star-o"></i><i class="fa fa-star-o"></i><i class="fa fa-star-o"></i>';
	}
*/



/*
// -- start build section

	$('<section data-role="page" id="'+url+'"></section>')

	$('<section data-role="page"></section>')
		.attr('id', url);

	$('<div role="main" class="ui-content"></div>')



	$('<li></li>')


	function link(){}

	//-----build nav item -----//



---- end of build section */

	/* ------ the fuq - the location of the build link functionality needs to be determined. It is a function that allows for the realatively painless creation of a link node in the menu. Unfortunately link nodes appear in two different contexts  and have potentially two different context in which they operate. 


	/*
	var url = 'thisisaURL';
	var skillIndicator = '<i class="fa fa-star-half-o"></i><i class="fa fa-star-o"></i><i class="fa fa-star-o"></i>';	
	*/

	//build link item
	//$('<li></li>').append( menuItem	).appendTo('#nav>ul');






//  });




</script>

</body>
</html>